<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=300">
  <title>DialogBrain Cookie Sync</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      width: 320px;
      min-height: 200px;
      padding: 16px;
      background: #f8f9fa;
      color: #1a1a1a;
    }

    .header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid #e0e0e0;
    }

    .header img {
      width: 32px;
      height: 32px;
    }

    .header h1 {
      font-size: 16px;
      font-weight: 600;
    }

    .login-section {
      text-align: center;
      padding: 20px 0;
    }

    .login-section p {
      font-size: 13px;
      color: #666;
      margin-bottom: 12px;
    }

    .login-btn {
      display: inline-block;
      padding: 10px 24px;
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      text-decoration: none;
    }

    .login-btn:hover {
      background: #1d4ed8;
    }

    .platform-card {
      background: white;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 12px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .platform-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .platform-name {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
      font-size: 14px;
    }

    .platform-icon {
      width: 20px;
      height: 20px;
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 500;
    }

    .status-connected {
      background: #dcfce7;
      color: #166534;
    }

    .status-disconnected {
      background: #fee2e2;
      color: #991b1b;
    }

    .status-syncing {
      background: #fef3c7;
      color: #92400e;
    }

    .status-not-logged-in {
      background: #f3f4f6;
      color: #6b7280;
    }

    .platform-info {
      font-size: 12px;
      color: #666;
    }

    .sync-btn {
      display: block;
      width: 100%;
      padding: 8px;
      margin-top: 8px;
      background: #f3f4f6;
      border: 1px solid #e5e7eb;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
    }

    .sync-btn:hover:not(:disabled) {
      background: #e5e7eb;
    }

    .sync-btn:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }

    .footer {
      margin-top: 16px;
      padding-top: 12px;
      border-top: 1px solid #e0e0e0;
      text-align: center;
    }

    .footer a {
      font-size: 12px;
      color: #2563eb;
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    .logout-btn {
      display: block;
      width: 100%;
      padding: 8px;
      margin-top: 8px;
      background: transparent;
      border: 1px solid #e5e7eb;
      border-radius: 4px;
      font-size: 12px;
      color: #666;
      cursor: pointer;
    }

    .logout-btn:hover {
      background: #fee2e2;
      border-color: #fca5a5;
      color: #991b1b;
    }
  </style>
</head>
<body>
  <div class="header">
    <img src="icons/icon32.png" alt="DialogBrain">
    <h1>DialogBrain Cookie Sync</h1>
  </div>

  <div id="login-section" class="login-section" style="display: none;">
    <p>Connect with your DialogBrain account to sync cookies</p>
    <a href="https://dialogbrain.com/" class="login-btn" target="_blank">
      Connect Account
    </a>
  </div>

  <div id="main-section" style="display: none;">
    <!-- Instagram Card -->
    <div class="platform-card">
      <div class="platform-header">
        <div class="platform-name">
          <svg class="platform-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12C22 6.477 17.523 2 12 2Z" stroke="#E4405F" stroke-width="1.5"/>
            <path d="M16.5 7.5V7.501M8 12C8 9.791 9.791 8 12 8C14.209 8 16 9.791 16 12C16 14.209 14.209 16 12 16C9.791 16 8 14.209 8 12Z" stroke="#E4405F" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          Instagram
        </div>
        <span id="instagram-status" class="status-badge status-not-logged-in">
          Checking...
        </span>
      </div>
      <div id="instagram-info" class="platform-info">
        Last sync: Never
      </div>
      <button id="instagram-sync-btn" class="sync-btn" disabled>
        Sync Now
      </button>
    </div>

    <!-- LinkedIn Card -->
    <div class="platform-card">
      <div class="platform-header">
        <div class="platform-name">
          <svg class="platform-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 8C17.591 8 19.117 8.632 20.243 9.757C21.368 10.883 22 12.409 22 14V21H18V14C18 13.469 17.789 12.961 17.414 12.586C17.039 12.211 16.531 12 16 12C15.469 12 14.961 12.211 14.586 12.586C14.211 12.961 14 13.469 14 14V21H10V14C10 12.409 10.632 10.883 11.757 9.757C12.883 8.632 14.409 8 16 8Z" fill="#0A66C2"/>
            <rect x="2" y="9" width="4" height="12" fill="#0A66C2"/>
            <circle cx="4" cy="4" r="2" fill="#0A66C2"/>
          </svg>
          LinkedIn
        </div>
        <span id="linkedin-status" class="status-badge status-not-logged-in">
          Checking...
        </span>
      </div>
      <div id="linkedin-info" class="platform-info">
        Last sync: Never
      </div>
      <button id="linkedin-sync-btn" class="sync-btn" disabled>
        Sync Now
      </button>
    </div>

    <button id="logout-btn" class="logout-btn">
      Disconnect Account
    </button>
  </div>

  <div class="footer">
    <a href="https://dialogbrain.com/settings" target="_blank">Open DialogBrain Settings</a>
  </div>

  <script src="popup.js"></script>
</body>
</html>
